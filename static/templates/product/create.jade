//- extends ../base.jade
include ../mixins
block CONTENT
    :go:func
        Productcreate(c ViewContainer)

    //+titleicon(iconitem="tag" label="product_create_title")

    button#save.btn.btn-link(type='button', onclick='Product_saveProduct()')
        span.mdi.mdi-content-save.mdi-24px.iconlabel
            = T("save", 1)
    button.btn.btn-link(type='button', onclick="Menu_loadContent('product', '" + c.ProxyPath + "v/products', 'Product_list')")
        span.mdi.mdi-close-box.mdi-24px.iconlabel
            = T("close", 1)

    .form-row
        .form-group.col-sm-4
            .card-body
                .form-check.form-check-inline
                    input#showchem.form-check-input(type="radio" value="chem" name="typechooser")
                    label.form-check-label(for="showchem")
                        span.mdi.mdi-atom.mdi-36px.iconlabel
                            = T("chemical_product", 1 )
                    input#showbio.form-check-input(type="radio" value="bio" name="typechooser")
                    label.form-check-label(for="showbio")
                        span.mdi.mdi-dna.mdi-36px.iconlabel
                            = T("biological_product", 1 )

    form#product
        input#index(type='hidden', name='index', value='')
        input#product_id(type='hidden', name='product_id', value='')

        input#exactMatchEmpiricalFormula(type="hidden")
        input#exactMatchLinearFormula(type="hidden")
        input#exactMatchCasNumber(type="hidden")
        input#exactMatchCeNumber(type="hidden")
        input#exactMatchName(type="hidden")
        input#exactMatchClassOfCompound(type="hidden")
        input#exactMatchPhysicalState(type="hidden")
        input#exactMatchProducerRefs(type="hidden")
        input#exactMatchProducer(type="hidden")
        input#exactMatchSupplierRefs(type="hidden")
        input#exactMatchSupplier(type="hidden")
        input#exactMatchTag(type="hidden")
        input#exactMatchCategory(type="hidden")

        .form-row
            .form-group.col-sm-6
                +select(label="category_label_title" name="category")
            .form-group.col-sm-6
                +selectmultiple(label="tag_label_title" name="tags")

        .form-row
            .form-group.col-sm-6
                +selectrequired(label="name_label_title" name="name")
            .form-group.col-sm-6
                +selectmultiple(label="synonym_label_title" name="synonyms")

        // bio
        .form-row.bio.collapse
            .form-group.col-sm-6
                +selectrequired("producerref_label_title", "producerref")
            .form-group.col-sm-6
                +select("producer_label_title", "producer")
        .form-row.bio.collapse
            .form-group.col-sm-5.offset-sm-6
                +inputtext("add_producer_title", "addproducer")
            .form-group.col-sm-1.align-self-end
                button.btn.btn-primary(type="button" onclick="Product_addProducer()")
                    span.mdi.mdi-plus-circle

        // bio
        .form-row.bio.collapse
            .form-group.col-sm-6
                +selectmultiple("supplierref_label_title", "supplierrefs")
            .form-group.col-sm-6
                +select("supplier_label_title", "supplier")
        .form-row.bio.collapse
            .form-group.col-sm-5.offset-sm-6
                +inputtexttest("add_supplier_title", "addsupplier", "")
            .form-group.col-sm-1.align-self-end
                button.btn.btn-primary(type="button" onclick="Product_addSupplier()")
                    span.mdi.mdi-plus-circle

        // bio
        .form-row.bio.collapse
            .form-group.col-sm-6
                +inputnumber("product_temperature_title", "product_temperature", "any", "-10000000", "10000000", "")
            .form-group.col-sm-6
                +select("unit_label_title", "unit_temperature")

        .form-row.chem.collapse
            .form-group.col-sm-12
                button.btn.btn-primary(type="button" onclick="Product_noEmpiricalFormula()")
                    span.mdi.mdi-24px.mdi-cursor-default-click-outline &nbsp;
                    = T("no_empirical_formula", 1 )

        .form-row.chem.collapse
            .form-group.col-sm-6
                +selectrequired("empiricalformula_label_title", "empiricalformula")
            .form-group.col-sm-6
                +select("linearformula_label_title", "linearformula")

        .form-row.chem.collapse.float-right
                span#convertedEmpiricalFormula
                button.btn.btn-primary(type="button" onclick="Product_linearToEmpirical()")
                    span.mr-sm-2.mdi.mdi-restart
                    = T("empirical_formula_convert", 1 )

        .form-row.chem.collapse
            .form-group.col-sm-6
                +inputfile("product_twodformula_title", "product_twodformula", ".png,.jpg,.jpeg")
                +inputhidden("product_twodformula_content", "")

        .form-row.chem.collapse
            .form-group.col-sm-12
                button.btn.btn-primary(type="button" onclick="Product_noCas()")
                    span.mdi.mdi-24px.mdi-cursor-default-click-outline &nbsp;
                    = T("no_cas_number", 1 )

        .form-row.chem.collapse
            .form-group.col-sm-6
                +selectrequired("casnumber_label_title", "casnumber")
            .form-group.col-sm-6
                +select("cenumber_label_title", "cenumber")

        .form-row.chem.collapse
            .form-group.col-sm-12
                +inputtext("product_specificity_title", "product_specificity")

        .form-row
            .form-group.col-sm-6
                +inputtext("product_msds_title", "product_msds")
            //bio
            .form-group.col-sm-6
                +inputtext("product_sheet_title", "product_sheet")

        .form-row
            .form-group.col-sm-6
                +inputtext("product_threedformula_title", "product_threedformula")
            .form-group.col-sm-6
                //- +inputfile("product_threedformula_mol_title", "product_molformula")
                //- +inputhidden("product_molformula_content", "")

        .form-row
            .form-group.col-sm-6
                +select("physicalstate_label_title", "physicalstate")
            .form-group.col-sm-6
                +selectmultiple("classofcompound_label_title", "classofcompound")  

        .form-row
            .form-group.col-sm-12
                button.btn.btn-light(type="button" onclick="Product_howToMagicalSelector()")
                    span.mdi.mdi-24px.mdi-cursor-default-click-outline &nbsp;
                    = T("howto_magicalselector", 1 )

        .form-row
            .form-group.col-sm-11.d-flex.align-items-end
                +inputtextarea("magical_selector", "magical")
            .form-group.col-sm-1.d-flex.align-items-end
                button#magical-button(type="button" onclick="Product_magic();")
                    span.mdi.mdi-24px.mdi-auto-fix

        .form-row
            .form-group.col-sm-6
                +select("signalword_label_title", "signalword")
            .form-group.col-sm-6
                +selectmultiple("symbol_label_title", "symbols")

        .form-row
            .form-group.col-sm-6
                +selectmultiple("hazardstatement_label_title", "hazardstatements")
            .form-group.col-sm-6
                +selectmultiple("precautionarystatement_label_title", "precautionarystatements")

        .form-row
            .form-group.col-sm-4
                +checkboxicon("product_restricted_title", "product_restricted", "mdi-hand")
            .form-group.col-sm-4
                +checkboxicon("product_radioactive_title", "product_radioactive", "mdi-radioactive")

        .form-row
            .form-group.col-sm-12
                +inputtextarea("product_disposalcomment_title", "product_disposalcomment")
        .form-row
            .form-group.col-sm-12
                +inputtextarea("product_remark_title", "product_remark")

    button#save.btn.btn-link(type='button', onclick='Product_saveProduct()')
        span.mdi.mdi-content-save.mdi-24px.iconlabel
            = T("save", 1)
    button.btn.btn-link(type='button', onclick="Menu_loadContent('product, '" + c.ProxyPath + "v/products', 'Product_list')")
        span.mdi.mdi-close-box.mdi-24px.iconlabel
            = T("close", 1)

block CONTENTJS