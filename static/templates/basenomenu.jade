| {{define "BASE"}}
| {{template "MIXINS"}}
html
    head
        | {{template "HEAD"}}

        | <link href="{{.ProxyPath}}css/bootstrap.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/bootstrap-table.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/select2.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/bootstrap-colorpicker.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/fontawesome.all.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/chimitheque.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/materialicons.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/materialdesignicons.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/bootstrap-toggle.min.css" rel="stylesheet"/>
        | <link href="{{.ProxyPath}}css/animate.min.css" rel="stylesheet"/>

    body
        div#message
        div.container
            | {{template "HEADER"}}
            header.row.justify-content-left
                div.col-sm-12
                    img(src="{{.ProxyPath}}img/logo_chimitheque.png", alt="chimitheque_logo", title="Chimith√®que")
            | {{template "CONTENT"}}
            | {{template "FOOTER"}}

        | {{template "FOOT"}}

        script.
            //
            // common javascript
            //

            // query parameters saved - used for the storages<>products views switch
            var lastQueryParams;

            // proxy path
            var proxyPath = {{ .ProxyPath }};

            // logged user email and permissions
            var container = {{ . }};

            // url parameters
            var URLValues = new Map();

            // initializing query parameters map
            {{ range $key, $value := .URLValues }}
                URLValues.set({{ $key }}, {{ $value }});
            {{ end }}

            // setting up logged user
            window.onload = function() {
                //var email = readCookie("email")
                var urlParams = new URLSearchParams(window.location.search);
                var message = urlParams.get("message");
                
                //- if (email != null) {
                //-     document.getElementById("logged").innerHTML = email;
                //- }
                if (message != null) {
                    global.displayMessage(message, "success");
                }

           };

        | <script src="{{.ProxyPath}}js/jquery-3.3.1.min.js"></script>
        | <script src="{{.ProxyPath}}js/jquery.formautofill.min.js"></script>
        | <script src="{{.ProxyPath}}js/jquery.validate.min.js"></script>
        | <script src="{{.ProxyPath}}js/jquery.validate.additional-methods.min.js"></script>
        | <script src="{{.ProxyPath}}js/select2.full.min.js"></script>
        | <script src="{{.ProxyPath}}js/popper.min.js"></script>
        | <script src="{{.ProxyPath}}js/bootstrap.min.js"></script>
        | <script src="{{.ProxyPath}}js/bootstrap-table.min.js"></script>
        | <script src="{{.ProxyPath}}js/bootstrap-confirmation.min.js"></script>
        | <script src="{{.ProxyPath}}js/bootstrap-colorpicker.min.js"></script>
        | <script src="{{.ProxyPath}}js/bootstrap-toggle.min.js"></script>
        | <script src="{{.ProxyPath}}js/gjs-common.js"></script>
        | <script src="{{.ProxyPath}}js/chimcommon.js"></script>
        | <script src="{{.ProxyPath}}js/chimauth.js"></script>
        
        | {{template "CONTENTJS"}}

| {{end}}
